"use strict";exports.id=985,exports.ids=[985],exports.modules={16361:(e,s,t)=>{t.d(s,{E:()=>a});var i=t(60080),l=t(23161),n=t(53143);function a({category:e,count:s,mini:t=!1}){let a=e.icon?n.Z:null;return t?(0,i.jsxs)("div",{className:(0,l.cn)("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-semibold text-foreground",e.color),children:[a&&i.jsx(a,{className:"h-3 w-3"}),i.jsx("span",{children:e.name.charAt(0).toUpperCase()})]}):(0,i.jsxs)("div",{className:(0,l.cn)("inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-xs font-medium text-foreground",e.color),children:[a&&i.jsx(a,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:e.name}),void 0!==s&&i.jsx("span",{className:"ml-1 rounded-full bg-black/10 dark:bg-white/20 px-1.5 text-xs",children:s})]})}},1985:(e,s,t)=>{t.d(s,{s:()=>X});var i=t(60080),l=t(9885),n=t(62325),a=t(53176),r=t(18937),c=t(91745),d=t(68384),o=t(23161),x=t(1611),u=t(95196),h=t(26303),j=t(93303),m=t(68856),p=t(1264);let g=l.forwardRef(({className:e,...s},t)=>i.jsx(m.fC,{ref:t,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:i.jsx(m.z$,{className:(0,o.cn)("flex items-center justify-center text-current"),children:i.jsx(p.Z,{className:"h-4 w-4"})})}));g.displayName=m.fC.displayName;var f=t(16361),y=t(66558),N=t(19098),v=t(83894),b=t(51839),C=t(60806),w=t(49424),k=t(76466),D=t(517),z=t(72525),I=t(335),S=t(88042),P=t(70589);let Z=N.z.object({title:N.z.string().min(1,"Title is required"),description:N.z.string().optional(),categoryId:N.z.string().nullable(),priority:N.z.enum(["low","medium","high"]),status:N.z.enum(["pending","in_progress","completed"]),dueDate:N.z.date().optional().nullable()});function E({task:e,open:s,onOpenChange:t}){let{updateTask:r}=(0,n.useTasks)(),{categories:c}=(0,n.useCategories)(),x=(0,y.cI)({resolver:(0,v.F)(Z),defaultValues:{title:e.title,description:e.description||"",categoryId:e.categoryId,priority:e.priority,status:e.status,dueDate:e.dueDate?new Date(e.dueDate):null}});return(0,l.useEffect)(()=>{s&&x.reset({title:e.title,description:e.description||"",categoryId:e.categoryId,priority:e.priority,status:e.status,dueDate:e.dueDate?new Date(e.dueDate):null})},[e,s,x]),i.jsx(b.Vq,{open:s,onOpenChange:t,children:(0,i.jsxs)(b.cZ,{className:"sm:max-w-[540px]",children:[i.jsx(b.fK,{children:i.jsx(b.$N,{children:"Edit Task"})}),i.jsx(C.l0,{...x,children:(0,i.jsxs)("form",{onSubmit:x.handleSubmit(s=>{r(e.id,{...s,dueDate:s.dueDate?s.dueDate.toISOString():void 0}),t(!1)}),className:"space-y-4",children:[i.jsx(C.Wi,{control:x.control,name:"title",render:({field:e})=>(0,i.jsxs)(C.xJ,{children:[i.jsx(C.lX,{children:"Title"}),i.jsx(C.NI,{children:i.jsx(w.I,{placeholder:"Task title",...e})}),i.jsx(C.zG,{})]})}),i.jsx(C.Wi,{control:x.control,name:"description",render:({field:e})=>(0,i.jsxs)(C.xJ,{children:[i.jsx(C.lX,{children:"Description"}),i.jsx(C.NI,{children:i.jsx(k.g,{placeholder:"Add details about this task (optional)",className:"resize-none",...e,value:e.value||""})}),i.jsx(C.zG,{})]})}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(C.Wi,{control:x.control,name:"categoryId",render:({field:e})=>(0,i.jsxs)(C.xJ,{children:[i.jsx(C.lX,{children:"Category"}),(0,i.jsxs)(P.Ph,{onValueChange:e.onChange,value:e.value||void 0,children:[i.jsx(C.NI,{children:i.jsx(P.i4,{children:i.jsx(P.ki,{placeholder:"Select category"})})}),(0,i.jsxs)(P.Bw,{children:[i.jsx(P.Ql,{value:"none",children:"None"}),c.map(e=>i.jsx(P.Ql,{value:e.id,children:e.name},e.id))]})]}),i.jsx(C.zG,{})]})}),i.jsx(C.Wi,{control:x.control,name:"priority",render:({field:e})=>(0,i.jsxs)(C.xJ,{children:[i.jsx(C.lX,{children:"Priority"}),(0,i.jsxs)(P.Ph,{onValueChange:e.onChange,value:e.value,children:[i.jsx(C.NI,{children:i.jsx(P.i4,{children:i.jsx(P.ki,{placeholder:"Select priority"})})}),i.jsx(P.Bw,{children:Object.entries(a.rF).map(([e,s])=>i.jsx(P.Ql,{value:e,children:s},e))})]}),i.jsx(C.zG,{})]})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(C.Wi,{control:x.control,name:"status",render:({field:e})=>(0,i.jsxs)(C.xJ,{children:[i.jsx(C.lX,{children:"Status"}),(0,i.jsxs)(P.Ph,{onValueChange:e.onChange,value:e.value,children:[i.jsx(C.NI,{children:i.jsx(P.i4,{children:i.jsx(P.ki,{placeholder:"Select status"})})}),i.jsx(P.Bw,{children:Object.entries(a.NK).map(([e,s])=>i.jsx(P.Ql,{value:e,children:s},e))})]}),i.jsx(C.zG,{})]})}),i.jsx(C.Wi,{control:x.control,name:"dueDate",render:({field:e})=>(0,i.jsxs)(C.xJ,{className:"flex flex-col",children:[i.jsx(C.lX,{children:"Due Date"}),(0,i.jsxs)(S.J2,{children:[i.jsx(S.xo,{asChild:!0,children:i.jsx(C.NI,{children:(0,i.jsxs)(d.z,{variant:"outline",className:(0,o.cn)("w-full pl-3 text-left font-normal",!e.value&&"text-muted-foreground"),children:[e.value?(0,z.ZP)(e.value,"PPP"):i.jsx("span",{children:"Pick a date"}),i.jsx(D.Z,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),i.jsx(S.yk,{className:"w-auto p-0",align:"start",children:i.jsx(I.f,{mode:"single",selected:e.value||void 0,onSelect:e.onChange,initialFocus:!0})})]}),i.jsx(C.zG,{})]})})]}),(0,i.jsxs)(b.cN,{children:[i.jsx(d.z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(d.z,{type:"submit",children:"Save Changes"})]})]})})]})})}function X({task:e,compact:s=!1}){let{updateTask:t,deleteTask:m}=(0,n.useTasks)(),{categories:p}=(0,n.useCategories)(),[y,N]=(0,l.useState)(!1),v=p.find(s=>s.id===e.categoryId),b="completed"===e.status,C=()=>{t(e.id,{status:b?"pending":"completed"})};return s?(0,i.jsxs)(c.E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2},className:(0,o.cn)("flex items-center gap-2 p-2 rounded-md hover:bg-muted/50 transition-colors",b&&"opacity-60"),children:[i.jsx(g,{checked:b,onCheckedChange:C}),i.jsx("span",{className:(0,o.cn)("flex-1",b&&"line-through text-muted-foreground"),children:e.title}),v&&i.jsx(f.E,{category:v,mini:!0})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(c.E.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.15},className:(0,o.cn)("bg-card rounded-xl border shadow-sm p-4 flex flex-col gap-3",b&&"opacity-75"),children:[(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[i.jsx(g,{checked:b,onCheckedChange:C,className:"mt-1"}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:(0,o.cn)("font-medium text-base leading-tight mb-1",b&&"line-through text-muted-foreground"),children:e.title}),e.description&&i.jsx("p",{className:(0,o.cn)("text-sm text-muted-foreground line-clamp-2",b&&"line-through"),children:e.description})]}),(0,i.jsxs)(j.h_,{children:[i.jsx(j.$F,{asChild:!0,children:(0,i.jsxs)(d.z,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[i.jsx(x.Z,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Actions"})]})}),(0,i.jsxs)(j.AW,{align:"end",children:[(0,i.jsxs)(j.Xi,{onClick:()=>N(!0),children:[i.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,i.jsxs)(j.Xi,{onClick:()=>m(e.id),className:"text-destructive",children:[i.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),(0,i.jsxs)("div",{className:"flex items-center flex-wrap gap-2 mt-1",children:[v&&i.jsx(f.E,{category:v}),i.jsx("span",{className:(0,o.cn)("text-xs px-2 py-0.5 rounded-full",a.Gs[e.priority]),children:a.rF[e.priority]}),i.jsx("span",{className:(0,o.cn)("text-xs px-2 py-0.5 rounded-full",a.yh[e.status]),children:a.NK[e.status]})]}),e.dueDate&&(0,i.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["Due ",(()=>{if(!e.dueDate)return null;let s=new Date(e.dueDate);return(0,r.Z)(s,{addSuffix:!0})})()]})]}),i.jsx(E,{task:e,open:y,onOpenChange:N})]})}}};